import{A as a}from"./api_clusterManage.333bcab0.js";import{n as e}from"./index.e6909a03.js";import"./index.dfdb83b1.js";import"./vendor.194c4086.js";import"./bus.d56574c1.js";const t={};var o=e({name:"ModifyDatabaseHaStateDialog",data:()=>({dialogFormVisible:!1,loading:!1,form:{state:"",cluster_id:0,db_id:0},formRules:{},language:""}),props:{},mounted(){},methods:{openDialog(a){this.language=localStorage.getItem("language_clup"),this.form.state=a.state+"",this.form.cluster_id=a.cluster_id,this.form.db_id=a.db_id,this.dialogFormVisible=!0,console.log(this.form)},saveDatabaseHaState(){const e=this;this.$refs.modifyDatabaseHaStateForm.validate((t=>{if(!t)return;e.loading=!0;let o=Object.assign({},e.form);a.changeDatabaseHaState(o).then((a=>{e.$emit("setDatabaseHaStateFinished",this.form),e.dialogFormVisible=!1,e.loading=!1}),(function(a){e.loading=!1}))}))}}},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-dialog",{attrs:{title:a.$t("ModifyDatabaseHaStateDialog.xiugai-shujukude-HA-zhuangtai"),visible:a.dialogFormVisible,"append-to-body":!0,width:"300px;"},on:{"update:visible":function(e){a.dialogFormVisible=e}}},[t("el-row",[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"modifyDatabaseHaStateForm",attrs:{"element-loading-text":a.$t("Public.ping-ming-jia-zai-zhong"),model:a.form,rules:a.formRules,"label-width":"en"==a.language?"240px":"170px"}},[t("el-row",[t("p",{staticStyle:{color:"red","font-size":"14px","word-break":"normal","overflow-wrap":"break-word"}},[a._v(a._s(a.$t("ModifyDatabaseHaStateDialog.zhuyi-zhiyouzai-message"))+" ")]),t("p",{staticStyle:{color:"red","font-size":"14px","word-break":"normal","overflow-wrap":"break-word"}},[a._v(" "+a._s(a.$t("ModifyDatabaseHaStateDialog.1-beikudao-zhukude-message")))]),t("p",{staticStyle:{color:"red","font-size":"14px","word-break":"normal","overflow-wrap":"break-word"}},[a._v(" "+a._s(a.$t("ModifyDatabaseHaStateDialog.2-zhuku-chuxianwenti-message")))]),t("p",{staticStyle:{color:"red","font-size":"14px","word-break":"normal","overflow-wrap":"break-word"}},[a._v(a._s(a.$t("ModifyDatabaseHaStateDialog.pingshibuyao-suibian-message")))]),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:a.$t("ModifyDatabaseHaStateDialog.qignshezhi-shujukude-HA-zhuangtai"),prop:"state"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:a.$t("createDatabasePage.qing-xuan-ze")},model:{value:a.form.state,callback:function(e){a.$set(a.form,"state",e)},expression:"form.state"}},[t("el-option",{attrs:{label:"Normal",value:"1"}}),t("el-option",{attrs:{label:"Fault",value:"2"}}),t("el-option",{attrs:{label:"Failover",value:"3"}}),t("el-option",{attrs:{label:"Switching",value:"4"}}),t("el-option",{attrs:{label:"Repairing",value:"5"}})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",staticStyle:{float:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:a.saveDatabaseHaState}},[a._v(a._s(a.$t("licManager.bao-cun")))])],1)],1)],1)],1)}),[],!1,i,"67fd20bc",null,null);function i(a){for(let e in t)this[e]=t[e]}var l=function(){return o.exports}();export{l as default};
