import{A as e}from"./api_dbManage.a8594560.js";import{n as i}from"./index.e6909a03.js";import"./index.dfdb83b1.js";import"./vendor.194c4086.js";import"./bus.d56574c1.js";const o={};var t=i({name:"modifySpecs",data(){return{row:this.dbData,loading:!1,modifySpecsForm:{},modifySpecsFormRules:{},mem_msg:!1,memMax:2048}},props:{dbData:{required:!0}},mounted(){this.modifySpecsList(this.row),console.log(this.row)},methods:{modifySpecsList(e){"docker"===e.instance_type?this.modifySpecsForm={db_id:e.db_id,cpu:e.cpu}:this.modifySpecsForm={db_id:e.db_id}},saveModifySubmit(){const i=this;this.$refs.modifySpecsForm.validate((o=>{if(o){i.loading=!0;let o={db_id:i.modifySpecsForm.db_id};"docker"===i.row.instance_type&&(o.cpu=i.modifySpecsForm.cpu),e.extendInstance(o).then((function(){i.loading=!1,i.$message({type:"success",message:i.$t("baseInfo.xiugai-chenggong")}),i.getDBList()}),(function(e){i.loading=!1}))}}))},getDBList(){const i=this;let o={db_id:i.row.db_id};e.getDbInfo(o).then((function(e){i.loading=!1;const o=e;i.row=e,i.modifySpecsList(o)}),(function(e){i.loading=!1}))}}},(function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:12,"element-loading-text":e.$t("Public.ping-ming-jia-zai-zhong")}},[o("el-form",{ref:"modifySpecsForm",staticStyle:{"margin-top":"20px"},attrs:{model:e.modifySpecsForm,rules:e.modifySpecsFormRules,"label-width":"110px"}},["docker"===e.row.instance_type?o("el-form-item",{attrs:{label:e.$t("createDatabasePage.CPU-heshu"),prop:"cpu"}},[o("el-slider",{attrs:{"show-input":"",min:1,max:32,readonly:e.row.cluster_id&&!0},model:{value:e.modifySpecsForm.cpu,callback:function(i){e.$set(e.modifySpecsForm,"cpu",i)},expression:"modifySpecsForm.cpu"}})],1):e._e(),o("el-form-item",[o("el-button",{staticClass:"main",attrs:{loading:e.loading},on:{click:e.saveModifySubmit}},[e._v(e._s(e.$t("editConfigTab.baocun-xiugai")))])],1)],1)],1)}),[],!1,s,"179b96c6",null,null);function s(e){for(let i in o)this[i]=o[i]}var n=function(){return t.exports}();export{n as default};
